<div class="books-page container mt-4">
  <div class="row g-4">
    <!-- Filters Sidebar -->
    <aside class="col-lg-3 d-none d-lg-block">
      <app-book-filters></app-book-filters>
    </aside>

    <!-- Main Content -->
    <section class="col-lg-9">
      <!-- Header with Sorting -->
      <div class="d-flex align-items-center justify-content-between mb-3">
        <h2 class="h4 mb-0">
          Tüm Kitaplar
          <small class="text-muted">({{ totalCount }} ürün)</small>
        </h2>
        <app-book-sorting></app-book-sorting>
      </div>

      <!-- Loading State -->
      <div *ngIf="loading" class="skeleton-grid">
        <div class="skeleton-card" *ngFor="let i of [].constructor(12)"></div>
      </div>

      <!-- Error State -->
      <div *ngIf="error" class="alert alert-danger">
        {{ error }}
      </div>

      <!-- Books Grid -->
      <div *ngIf="!loading && !error" class="row g-3">
        <div
          class="col-6 col-sm-4 col-md-3 col-lg-3"
          *ngFor="let book of books"
        >
          <app-book-card [book]="book"></app-book-card>
        </div>
      </div>

      <!-- Empty State -->
      <div
        *ngIf="!loading && !error && books.length === 0"
        class="text-center py-5"
      >
        <i class="bi bi-book display-1 text-muted"></i>
        <h4 class="mt-3">Kitap bulunamadı</h4>
        <p class="text-muted">
          Arama kriterlerinizi değiştirip tekrar deneyin.
        </p>
      </div>

      <!-- Pagination -->
      <app-book-pagination
        [pagedResponse]="pagedResponse"
      ></app-book-pagination>
    </section>
  </div>
</div>
