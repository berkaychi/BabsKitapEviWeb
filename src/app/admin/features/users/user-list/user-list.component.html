<div class="user-list-container">
  <div class="header">
    <h2>Kullanıcı Yönetimi</h2>
    <a routerLink="/admin/users/new" class="btn btn-primary">
      <i class="bi bi-person-plus"></i>
      Yeni Kullanıcı
    </a>
  </div>

  <!-- Loading State -->
  <div *ngIf="loading" class="loading-container">
    <div class="spinner-border" role="status">
      <span class="visually-hidden">Yükleniyor...</span>
    </div>
  </div>

  <!-- Error State -->
  <div *ngIf="error" class="alert alert-danger" role="alert">
    <i class="bi bi-exclamation-triangle"></i>
    {{ error }}
  </div>

  <!-- Users Table -->
  <div *ngIf="!loading && !error" class="table-responsive">
    <table class="table table-striped table-hover">
      <thead class="table-dark">
        <tr>
          <th>ID</th>
          <th>Ad</th>
          <th>Soyad</th>
          <th>E-posta</th>
          <th>Rol</th>
          <th>Kayıt Tarihi</th>
          <th>İşlemler</th>
        </tr>
      </thead>
      <tbody>
        <tr *ngFor="let user of users">
          <td>{{ user.id }}</td>
          <td>{{ user.firstName }}</td>
          <td>{{ user.lastName }}</td>
          <td>{{ user.email }}</td>
          <td>
            <span
              class="badge"
              [ngClass]="{
                'bg-danger': user.role.toLowerCase() === 'admin',
                'bg-secondary': user.role.toLowerCase() === 'user'
              }"
            >
              {{ getRoleDisplayName(user.role) }}
            </span>
          </td>
          <td>{{ formatDate(user.createdAt) }}</td>
          <td>
            <div class="btn-group btn-group-sm">
              <a
                [routerLink]="['/admin/users/edit', user.id]"
                class="btn btn-outline-primary btn-sm"
                title="Düzenle"
              >
                <i class="bi bi-pencil"></i>
              </a>
              <button
                type="button"
                class="btn btn-outline-danger btn-sm"
                (click)="deleteUser(user)"
                title="Sil"
              >
                <i class="bi bi-trash"></i>
              </button>
            </div>
          </td>
        </tr>
      </tbody>
    </table>

    <!-- Empty State -->
    <div *ngIf="users.length === 0" class="empty-state">
      <i class="bi bi-people"></i>
      <h4>Kullanıcı bulunamadı</h4>
      <p>Henüz kayıtlı kullanıcı yok.</p>
    </div>
  </div>
</div>
