<div class="admin-category-list">
  <div class="header">
    <h2>Kategori Yönetimi</h2>
    <button class="btn btn-primary" [routerLink]="['new']">
      <i class="bi bi-plus-lg me-2"></i>Yeni Kategori Ekle
    </button>
  </div>

  <div class="text-center my-5" *ngIf="loading">
    <div class="spinner-border" role="status">
      <span class="visually-hidden">Yükleniyor...</span>
    </div>
  </div>

  <div class="alert alert-danger" *ngIf="!loading && error">
    {{ error }}
  </div>

  <div
    class="table-responsive"
    *ngIf="!loading && !error && categories.length > 0"
  >
    <table class="table table-hover align-middle">
      <thead>
        <tr>
          <th>ID</th>
          <th>Kategori Adı</th>
          <th class="text-end">İşlemler</th>
        </tr>
      </thead>
      <tbody>
        <tr *ngFor="let category of categories">
          <td>{{ category.id }}</td>
          <td>{{ category.name }}</td>
          <td class="text-end">
            <div class="btn-group">
              <button
                class="btn btn-sm btn-outline-info"
                [routerLink]="[category.id]"
                title="Kitapları Görüntüle"
              >
                <i class="bi bi-eye-fill"></i>
              </button>
              <button
                class="btn btn-sm btn-outline-primary"
                [routerLink]="['edit', category.id]"
                title="Düzenle"
              >
                <i class="bi bi-pencil-fill"></i>
              </button>
              <button
                class="btn btn-sm btn-outline-danger"
                (click)="deleteCategory(category)"
                title="Sil"
              >
                <i class="bi bi-trash-fill"></i>
              </button>
            </div>
          </td>
        </tr>
      </tbody>
    </table>
  </div>

  <div
    class="alert alert-info"
    *ngIf="!loading && !error && categories.length === 0"
  >
    Gösterilecek kategori bulunamadı.
  </div>
</div>
